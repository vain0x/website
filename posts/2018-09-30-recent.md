## 近況 2018-09-30

- Twitter 以外のサービスをやりたい
- Scrap box の試しとしてにこの記事を書いている
- 校正の手間を省くため、なるべく箇条書きでやっていく
	- 通常の文章を書く頭は README と競プロ参戦記に使う

### 競プロ参戦記

- 8月中旬から note.mu で [競プロ参戦記](https://note.mu/vain0x/m/m9aa8513f4e97) を始めた

- 3日で終わるかと思ったけど1ヶ月は続いた
- 成長やモチベに貢献しているかは微妙
- note mu を選んだ理由
    - 日本語で書ける、技術よりな日記を書ける、UI がいい、という条件を満たしてる
    - hatena blog はちょっと
    - Qiita には日記を書きづらい
    - Codeforces blog は日本語では書きづらい
    - 自前のブログは更新がめんどい
- note.mu の問題
    -   エディターが微妙に使いづらい

### Milone 言語を作り始めた

- リポジトリ: [milone-lang](https://github.com/vain0x/milone-lang)
- セキュキャンの影響でC言語のセルフホスティングコンパイラを作るのが大流行していた
- 私もやりたいけどCコンパイラは乗り遅れ感
    - 自作言語なら楽？
    - Rust っぽい構文をさっと考えて実装開始
    - 道のりが長すぎて既に飽き気味
    - F# のサブセットにしようとしてる
    - 字下げ依存構文の解析がつらすぎて飽き気味

### F# 用のTOMLパーサを書き始めた

- リポジトリ: [toml-hummer](https://github.com/vain0x/toml-hummer)
- 習作。既存の実装はある
- パーサコンビネータは使わず、字句解析 → 字句リストを再帰下降パース、という手順でやる
    - パーサコンビネータ (FParseC) もパーサジェネレータもいらない、これなら簡単にパースできる、っていうのをやりたい
    - パースはわりとすんなりいけてる
    - 字句解析が正規表現でかなりがちゃがちゃしてる、ここをもっと簡単にしたい
    - エラー報告の精度を上げるのは大変そう
- データ構造の持ちかたで迷ってる

### React を始めた

- Vue .js をちょっとだけやったことはあった。極めて便利だけど型や環境構築が煩雑な印象
- Node.js + SPA の環境構築になれてきた
- いろいろ諦めた。コードに静的な型がついて、ドメイン層のユニットテストが高速に実行できたらそれでいいと思う
    - Live Reload
    - Hot Module Replacement
    - ブラウザ上でのテスト (karma)
    - レンダリングのテスト (enzyme)
- TypeScript を書く場合、 Vue .js と違って React はシンプルな型がつくのが嬉しい
    - Vue のコンポーネントの型はやばい

### fsharp-error-builders

- リポジトリ: [fsharp-error-builders](https://github.com/vain0x/fsharp-error-builders)
    - F# 用の Option/Result/`Async<Result>` のコンピュテーションビルダーを提供するライブラリ
- 名前を変えた
    - リポジトリはハイフン区切りがいい
- パフォーマンスの改善を試みた
    - inline をつけてメソッド呼び出しを減らした
    - `Some ()` をキャッシュした
- それでも for 式はコンピュテーション式の外側で書くより2倍ぐらい遅い
    - F# でパフォーマンスといえば、F# では型引数をどれだけ導入しても煩雑にならないので、構造体をガンガン使うようなコードでは C# に有利がつく可能性がないこともない

### Rust で競プロの入力をパースするマクロ

- リポジトリ: [scan-bench](https://github.com/vain0x/scan-bench)
    入力解析マクロ scan! の実装例と、 std::cin と比較したベンチマーク
- Rust で競プロの入力をパースするコードを書くのはとてもめんどい
- いま使ってる read! マクロは悪くないが、性能が低い
- だから簡単にする方法がほしい。変数を大量に定義するのでマクロでやるのがよい
- Travis の設定をやった
    - こういう chore に時間をかけすぎている

### ガルパ (リズムゲーム) を始めた

- 初音ミクコラボにつられてほいほいと
- 最初は Normal や Hard でも四苦八苦していた
- いまでは難度 25 の Expert ぐらいなら初見で突撃する
    - AtCoder でいえばレート 1100~1200 ぐらいだと思う
    - Expert 26 からは逃げがち
    - ファントムシーフ (Expert 27) を何度も練習してるけどクリアできない
- だんだん譜面が見えるようになってきて楽しい
- ファントムシーフめっちゃ好き
    - エイリアンのセリフパートも好き
